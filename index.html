<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>slider</title>
    <style>
        #slider-section {
            width: 90%;
            margin: auto;
            background: azure;
            transition: all .9s;
        }

        .card-item {

            box-sizing: border-box;
            transition: all .9s;
        }

        .card-section {
            background: rgb(138, 221, 221);
            padding: 10px;
        }

        .function {
            display: inline-block;
            float: left;
        }

        .functioninner {
            display: inline-block;
            float: right;
        }

        h1 {
            text-align: center;
        }
    </style>
</head>

<body>

    <div id="slider-section">


        <div>
            <h1>countrol 1</h1>
        </div>


        <div>
            <h1>countrol 2</h1>
        </div>


        <div>
            <h1>countrol 3</h1>
        </div>


        <div>
            <h1>countrol 4</h1>
        </div>


        <div>
            <h1>countrol 5</h1>
        </div>


        <div>
            <h1>countrol 6</h1>
        </div>


        <div>
            <h1>countrol 7</h1>
        </div>


        <div>
            <h1>countrol 8</h1>
        </div>


        <div>
            <h1>countrol 9</h1>
        </div>


        <div>
            <h1>countrol 10</h1>
        </div>


        <div>
            <h1>countrol 11</h1>
        </div>
    </div>
    <button class="function"> Previous</button>
    <button class="functioninner"> Next</button>



    <script>
        // select parent class or id 
        const parentClass = "#slider-section";
        const cardItemShows = 4;
        const mobileShow = 1;
        const tabShow = 2;
        const lapShow = 3;
        const autoSlide = 4000;






        const responsive = window.innerWidth
        const cardItemShow = responsive < 425 ? mobileShow : responsive < 768 ? tabShow : responsive < 1366 ? lapShow : cardItemShows;
        var widths = 100 / cardItemShow;


        // select inside card section  all 
        const sliderParentCard = document.querySelectorAll(`${parentClass} > div`);
        // select parent section  
        const sliderParent = document.querySelector(parentClass);
        // and adding css 
        sliderParent.setAttribute("style", "display: flex;overflow-x: hidden;padding:10px");

        for (let i = 0; i < sliderParentCard.length; ++i) {
            console.log(widths)

            var element = document.querySelectorAll(`${parentClass} > div`)[i];
            var parent = element.parentNode;
            var wrapper = document.createElement('div');
            wrapper.classList.add("card-item")
            // set the wrapper as child (instead of the element)
            parent.replaceChild(wrapper, element);
            // set element as child of wrapper
            wrapper.appendChild(element);
            wrapper.setAttribute("style", `max-width: ${widths}%;min-width: ${widths}%;padding:10px;`);

        }
        var nums = 0;
        var total = 0;
        var countre;
        const callingFunction = (next) => {
            if (next == false) {
                total = --nums ;

            } else {
                total = ++nums ;

            }
            var items = document.querySelector(`.card-item`);
            var countse = items.offsetWidth;
            countre = countse * total;
            if (((sliderParentCard.length - cardItemShow) === (total - 1)) || (countre < 0)) {
                total = 0;
                nums = 0;
                countre = 0;
            }
            for (let i = 0; i < sliderParentCard.length; ++i) {
                var num = document.querySelectorAll(`.card-item`)[i];
                num.setAttribute("style", `max-width: ${widths}%;min-width: ${widths}%;padding:10px;transform: translateX(-${countre}px);`)
            }
        }
        
        let autoFunction = setInterval(callingFunction, autoSlide);
        const arrowClick = (next) => {
            clearInterval(autoFunction)
            callingFunction(next)
            autoFunction = setInterval(callingFunction, autoSlide);
        }
        document.querySelector(".function").addEventListener("click", function () {
            arrowClick(false)
        })
        document.querySelector(".functioninner").addEventListener("click", arrowClick);


    </script>

</body>

</html>